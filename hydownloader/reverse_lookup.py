#!/usr/bin/env python3

# hydownloader
# Copyright (C) 2021-2022  thatfuckingbird

# This program is free software: you can redistribute it and/or modify
# it under the terms of the GNU Affero General Public License as
# published by the Free Software Foundation, either version 3 of the
# License, or (at your option) any later version.

# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU Affero General Public License for more details.

# You should have received a copy of the GNU Affero General Public License
# along with this program.  If not, see <https://www.gnu.org/licenses/>.

def process_job(job) -> tuple[int, int]:
    
    #read config
    #download URL if necessary
    #generate images to be looked up
    
    #do lookups:
    #local hash db 
    #hash lookup: gelb,danb + also try to extract hash from filename
    #saucenao
    #exhentai:search for hash (+also try from filename), similarity
    #ascii2d
    #iqdb
    #iqdb3d
    #filename: pixiv,konachan,yandere,lolibooru + try to extract tags
    #example names:
        #https://img3.gelbooru.com//samples/d5/e7/sample_d5e7d513c54d960f45560b1085b4110e.jpg
        #https://konachan.com/jpeg/4193bec48a19bf01a35d6a8e7c64f81c/Konachan.com%20-%20123589%20ass%20bed%20black_hair%20bondage%20breasts%20c:drive%20chain%20fingering%20kotowari%20long_hair%20nipples%20panties%20pussy%20thighhighs%20twintails%20uncensored%20underwear.jpg (1)
    
    #todo: add an "open url" action to single url queue/rev lookup queue
    #todo: work id to artist id database (pixiv)

    return 0, 0
